<div class="menu">
  <!-- NEW -->
  <button class="nav-toggle" aria-expanded="false" aria-controls="site-menu">
    Menu <span class="sr-only">Toggle navigation</span>
  </button>

  <nav id="site-menu" class="menu-content" data-collapsed="true" aria-label="Main">
    {% for item in site.data.settings.menu %}
      {%- comment -%} resolve base path {%- endcomment -%}
      {% assign path = item.path | default: 'menu' %}

      {% if item.url %}
        <a class="menu-link" href="{{ site.baseurl }}/{{ path }}/{{ item.url }}">{{ item.name }}</a>
      {% else %}
        <div class="dropdown" data-open="false">
          <!-- CHANGED: span -> button + ARIA -->
          <button class="submenu-toggle"
                  aria-expanded="false"
                  aria-controls="submenu-{{ forloop.index }}">
            {{ item.name }}
          </button>

          <div id="submenu-{{ forloop.index }}" class="dropdown-content" role="menu">
            {% for subitem in item.submenu %}
              <a role="menuitem" href="{{ site.baseurl }}/{{ path }}/{{ subitem.url }}">{{ subitem.name }}</a>
            {% endfor %}
          </div>
        </div>
      {% endif %}
    {% endfor %}
  </nav>

  <nav class="social-icons" aria-label="Social">
    {% for item in site.data.settings.social %}
      <a href="{{ item.link }}" target="_blank" rel="noopener">
        <i class="fa fa-{{ item.icon }}" aria-hidden="true"></i>
        <span class="sr-only">{{ item.icon }}</span>
      </a>
    {% endfor %}
  </nav>
</div>
